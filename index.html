<!DOCTYPE HTML>
<!--
	Paradigm Shift by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Paradigm Shift by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link rel="stylesheet" href="assets/css/main.css" />
        <script> window.smartlook || (function (d) { var o = (smartlook = function () { o.api.push(arguments) }), h = d.getElementsByTagName('head')[0]; var c = d.createElement('script'); o.api = new Array(); c.async = true; c.crossOrigin = 'anonymous'; c.type = 'text/javascript'; c.charset = 'utf-8'; c.src = 'https://web-sdk.alfa.smartlook.cloud/recorder.js'; h.appendChild(c); })(document); smartlook('init', 'd1863da50b0f110fee8e7062e20bc5ba416d4f3e', { host: 'manager.alfa.smartlook.cloud', loggingLevel: 1, forceSetupData: { recording: { disableApi: false, disableForms: false, maskEmails: false, maskNumbers: false, recordConsole: true, recordNetwork: true, signedDpa: true, }, consent: { api: true, forms: true, ip: true, } } }); </script>
	</head>
	<body class="is-preload">
                    <div class="content">
					    <h1>It's revenue testing time :pepe_sad:</h1>
				    </div>
					<div class="content">
                        <div>
						    <p>Current order value: <span id="total">0</span></p>
						</div>
						<div style="margin-bottom: 20px;">
						    <button value='10' class="button revenue-button">10 usd</button>
						    <button value='20' class="button revenue-button">20 usd</button>
						    <button value='30' class="button revenue-button">30 usd</button>
						    <button value='40' class="button revenue-button">40 usd</button>
						</div>
						<div style="margin-bottom: 20px;">
						    <button value='50' class="button revenue-button">50 usd</button>
						    <button value='60' class="button revenue-button">60 usd</button>
						    <button value='70' class="button revenue-button">70 usd</button>
						    <button value='80' class="button revenue-button">80 usd</button>
						</div>
                        <div style="margin-bottom: 20px;">
						    <button class="button" id="finish" style="background-color: blue; color: white; font-weight: bold;">Finish order</button>
                            <p>Will send custom event with the total order value</p>
						</div>
                        <div>
						    <button class="button" id="clear" style="background-color: red; color: white; font-weight: bold;">Reset total</button>
                            <p>Will reset the order value</p>
						</div>
				    </div>
		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
            <script>
                let total = 0
                const revenueBtns = document.querySelectorAll('.revenue-button')
                const totalVal = document.getElementById('total')
                const finishOrder = document.getElementById('finish')
                const clear = document.getElementById('clear')
                revenueBtns.forEach((btn, indx) => {
                    const revenueValue = (indx + 1) * 10
                    const eventName = `usd ${revenueValue}`
                    const revenueProps = {
                        type: 'revenueButton',
                        revenue: revenueValue,
                    }

                    btn.addEventListener('click', (event) => {
                        smartlook('track', eventName, revenueProps)
                        total += Number(event.target.value)
                        totalVal.textContent = total
                    })
                })

                const clearFn = () => {
                    total = 0
                    totalVal.textContent = total
                }

                finishOrder.addEventListener('click', () => {
                    const revenueVal = total
                    const eventName = 'Finished order'
                    const revenueProps = {
                        type: 'finishOrder',
                        revenue: revenueVal,
                    }

                    smartlook('track', eventName, revenueProps)
                    clearFn()
                })

                clear.addEventListener('click', () => {
                    clearFn()
                })


            </script>

	</body>

</html>
